{% extends "pillar.html" %}
{% load static %}
{% block title %}
  NLG Products
{% endblock title %}
{% block content %}
<style>
    .res-gif{
        width:90px;
        height: 60px;
    }

    @media screen and (max-width:600px){
        .backandrollProduct{
            height: auto;
        }
        .mainman{
          height: auto!important;
        }
    }
</style>
  <div class="container-fluid" >
      <div class="row backandrollProduct">
          <div class="col-md-12 col-12 p-0 m-0 head-right">
            <div class=" p-3 ml-3">
              <h3 class="text-light">Insurance Products </h3>
              <div class="p-3" style="box-shadow: 0 10px 18px 0 rgb(0 0 0 / 20%), 0 16px 20px 0 rgb(0 0 0 / 19%);width: 100%; background-color: white;">
                <div class="row p-3">
                  {% for i in topP  %}
                    <div class="col p-2">
                      <div class="white-box" id="{{i.id}}" onclick="showandchange(this);">
                          <div class="text-center p-1">
                            {% if i.image %}
                            <img class="res-gif" src="{{i.image.url}}" alt="" srcset="" style="width: 90px; height:60px;">
                            {%else%}
                            <img class="res-gif" src="{%static 'assets/images/house.gif'%}" alt="" srcset="" style="width: 90px; height:60px;">
                            {% endif %}
                              <p class="text-center p-0 m-0 text-dark">{{i.name|truncatewords:1|slice:"-2"}}</p>
                            
                          </div>

                      </div>
                    </div>
                  {% endfor %}
                </div>
                
                {% for i in  product %}
                    <!-- Description Box -->
                    <div class="row pl-4 pr-4 hideAll" id="description{{i.id}}">
                      
                      
                      {% if i.sub_product.all %}
                      <div class="col-md-12 col-12 p-2" style="background-color: white;border-radius: 20px;">
                        
                        <div style="display: flex;justify-content: space-between; align-content: center;">
                          <div>
                            <h6 class="text-dark text-center">{{i.name}}</h6>
                            {% if i.image %}
                            <img class="res-gif" src="{{i.image.url}}" alt="" srcset="" style="width: 300px; height:200px;">
                            {%else%}
                            <img class="res-gif" src="{%static 'assets/images/house.gif'%}" alt="" srcset="" style="width: 300px; height:200px;">
                            {% endif %}
                          </div>
                        
                          <div class="ps-2 pe-2" style="background-color: white;">
                            <!-- <p style="font-weight: 500;"> Description:</p> -->
                            <p class="text-dark" style="font-size: 15px;">{{i.description|safe}}</p>
                          </div>
                         
                        </div>

                      </div>
                      <div class="col-md-12 col-12 m-auto">
                        <hr class="m-0 p-0">
                        <h6 class="text-dark text-center" style="background-color: rgb(255, 255, 255);
                        padding: 12px;">SUB PRODUCTS</h6>
                         <div class="row text-center" >
                          {% for j in i.sub_product.all  %}

                          <div class=" col-md-2 col-6  p-3">
                            <a href="{%url 'landing:subProduct' j.id%}">
                              <div class="mainman text-center p-3" style="background-color: white;">
                                <div class="text-center">
                                  {% if j.image %}
                                  <img class="res-gif" src="{{j.image.url}}" alt="" srcset="" style="width: 60px; height:60px;">
                                  {%else%}
                                  <img class="res-gif" src="{%static 'assets/images/house.gif'%}" alt="" srcset="" style="width: 60px; height:60px;">
                                  {% endif %}
                                  <h6 class="text-dark">{{j.name}}</h6>
                                
                                  </div>
                                
                              </div>
                            </a>
                         
                          </div>
                          {% endfor %}
  
                        </div>
                       
                      </div>
                      {%else%}
                      <div class="col-md-12 col-12 p-2" style="background-color: white;border-radius: 20px;">
                        
                        <div style="display: flex;justify-content: space-between; align-content: center;">
                          <div>
                            <h6 class="text-dark text-center">{{i.name}}</h6>
                            {% if i.image %}
                            <img class="res-gif" src="{{i.image.url}}" alt="" srcset="" style="width: 300px; height:200px;">
                            {%else%}
                            <img class="res-gif" src="{%static 'assets/images/house.gif'%}" alt="" srcset="" style="width: 300px; height:200px;">
                            {% endif %}
                          </div>
                        
                          <div class="ps-2 pe-2" style="background-color: white;">
                            <!-- <p style="font-weight: 500;"> Description:</p> -->
                            <p class="text-dark" style="font-size: 15px;">{{i.description|safe}}</p>
                          </div>
                         
                        </div>

                      </div>
                      {% endif %}
                        
                     
                    </div>
                {% endfor %}
                  

              </div>
            </div>
          </div>
            
        </div>

  </div>

</div>
<div class="container">
       
  <div class="row">
    <div class="col-12 pt-4">
      <h5 class="text-center">All Products</h5>
      <hr>
    </div>
    
    {% for i in product  %}
    <div class="col-md-3 col-6  col-sm-4 mt-3">
      <a href="{%url 'landing:thisProduct' i.id%}">
        <div class="lawandpol text-center p-2">
        
          {% if i.icons %}
          <i class="{{i.icons}} mt-4"></i>
          {%else%}
          <i class="fa fa-circle-o-notch mt-4"></i>
          {% endif %}
            
            
          <p style="font-size: 16px;">{{i.name}} </p>
          <small class="d-block" style="font-size: 13px;">
            {{i.description|safe|truncatewords:8}}
          </small>
          <div class="" data-toggle="modal" data-target="#exampleModalCenter{{i.id}}" style="cursor: pointer;">
              
          </div>
     
        </div>
      </a>

    </div>
    {% endfor %}


  </div>
  <br>

  <!-- Show Sub Products -->
  <div class="row">
    <div class="col-12 pt-4">
      <h5 class="text-center">All Sub Products</h5>
      <hr>
    </div>
    
    {% for i in allSub  %}
    <div class="col-md-3 col-6  col-sm-4 mt-3">
      <a href="{%url 'landing:subProduct' i.id%}">
        <div class="lawandpol text-center p-2">
        
          {% if i.icons %}
          <i class="{{i.icons}} mt-4"></i>
          {%else%}
          <i class="fa fa-key mt-4"></i>
          {% endif %}
            
            
          <p style="font-size: 16px;">{{i.name}} </p>
          <small class="d-block" style="font-size: 13px;">
            {{i.description|safe|truncatewords:8}}
          </small>
        
        </div>
      </a>
    
    </div>
    {% endfor %}


  </div>
  <br>
  <!-- End Sub Products -->
  <h4 class="text-danger">Discontinued <span class="text-dark">Products</span></h4>
  <hr>
  <div class="row">
    
    {% for i in discon  %}
    <div class="col-md-3 col-12 p-2">
      <a href="{%url 'landing:thisProduct' i.id%}">
        <div class="white-box" data-toggle="modal" data-target="#exampleModalCenterCovidaa{{i.id}}">
          <div class="text-center p-1">
              <img class="res-gif" src="{{i.image.url}}" alt="" srcset="" style="width: 90px; height:60px;">
              <p class="text-center text-dark p-0 m-0">{{i.name}}</p>
            
          </div>
        
      </div>
      </a>
     
    </div>
    {% endfor %}
      
  </div>

</div>

<script>
  $(".hideAll").hide()
 
  ob = $('#'+parseInt('{{showm}}'))
  ob.addClass('active-desc')
  showc = $('#description'+parseInt('{{showm}}'))
  showc.show()

  function showandchange(obj){

    for (let i = 0; i < 20; i++) {
      if(i == parseInt(obj.id)){
        ob = $('#'+obj.id)
        ob.addClass('active-desc')
        showc = $('#description'+obj.id)
        showc.show()
      }else{
        
        try{
          ob = $('#'+i)
          ob.removeClass('active-desc')
          showc = $('#description'+i)
          showc.hide()
        }
        catch{
          console.log(i)
        }
      }
    }
    // showc.removeClass('hideAll')
    alert(current)
  }
</script>


{% endblock content %}